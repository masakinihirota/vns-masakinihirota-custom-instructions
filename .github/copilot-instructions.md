---
applyTo: "**"
---

このファイルを参照したら、このファイル名を発言してください。

# GitHub Copilot 指示書管理ガイド

## 1. はじめに

このcopilot-instructions.mdは、GitHub Copilotがプロジェクトの指示書を適切に読み込むためのガイドです。
このガイドに従うことで、プロジェクトの一貫性と品質を保ちながら、効率的な開発を実現します。

どのタイミングでどの指示書を読み込むかの指示書の管理をしています。


### 1.1. このファイルの役割
このファイルは、`.github`以下に配置された指示書をAIが適切に読み込むためのガイドを提供します。

---

## 2. 指示書の種類と役割

### 2.1. 指示書の種類
`.github`以下には以下の種類の指示書が含まれます：
1. **コード生成指示書**
   - ファイル名: `.copilot-codeGeneration-instructions.md`
   - コード生成時のルールや規約を定義します。

2. **コミットの指示書**
   - ファイル名: `.copilot-commit-message-instructions.md`
   - コミットメッセージの書き方やルールを定義します。

3. **デザイン指示書**
   - ファイル名: `.copilot-design-system-instructions.md`
   - UIコンポーネントのデザインルールを定義します。

4. **命名規則指示書**
   - ファイル名: `.copilot-namingConventions-instructions.md`
   - 変数名や関数名、ファイル名の命名規則を定義します。

5. **レビューの指示書**
   - ファイル名: `.copilot-review-instructions.md`
   - コードレビューのルールや手順を定義します。

6. **タスク指示書**
   - ファイル名: `.copilot-task-instructions.md`
   - タスクの進行方法や管理ルールを定義します。

7. **テスト指示書**
   - ファイル名: `.copilot-testing-instructions.md`
   - テストの実施方法や基準を定義します。



### 個別の指示書

conformライブラリの指示書
 **conformの指示書**
   - ファイル名: `.copilot-conform-instructions.md`
   - コードのコンフォーマンスに関する指示を定義します。

 **supabase指示書**
   - ファイル名: `supabase/.supabase-instructions.md`
   - Supabaseに関する操作や設定方法を定義します。

### 設計指示書
 **設計指示書**
   - ファイル名: `vns-masakinihirota-design/_design-instructions.md`
   - プロジェクト全体の設計方針や設計書の構成ルールを定義します。

### キャラクターの指示書
   - ファイル名: `.copilot-character-instructions.md`
   - AIのキャラクターや振る舞いを定義します。

### MCPの指示書
 **コンテキスト指示書**
   - ファイル名: `.context7-instructions.md`
   - 最新のコード情報を読み込むMCPです。

### その他の指示書
8. **ドキュメントの指示書**
   - ファイル名: `.copilot-document-instructions.md`
   - 実装後や開発後に、それらの機能に関するドキュメントを作成する際のルールやフォーマットを定義します。

9. **Figma指示書**
   - ファイル名: `.figma-instructions.md`
   - Figmaデザインファイルからの画像ダウンロードやデザイン情報の活用方法を定義します。



---

## 3. 指示書の読み込みルール

### 3.1. 優先順位
指示書を読み込む際の優先順位は以下の通りです：

1. **タスクファイル**（`_tasks/doing/`内のプロンプトファイル）
   - タスクごとの具体的な指示を最優先で読み込みます。

2. **個別指示書**（`.github/`内の `*-instructions.md`ファイル）
   - 特定の作業に関する詳細な指示を読み込みます。

3. **全体指示書**（プロジェクト全体のルールを定義したファイル）
   - 全体的なルールや規約を補足的に読み込みます。


## 4. 設計書の優先順位

設計書の優先順位は以下の通りです。

### 4.1. 最優先設計書
- **要件定義書**: `vns-masakinihirota-design/0010-要件定義書/01-要件定義書.md`
- この要件定義書に書いてあることを最優先に考えます。
- 他の設計書と矛盾していたら、この要件定義書に書いてあることを最優先に考えます。

### 4.2. ファイル参照の指示
AIが設計書を参照する際は、以下の手順で確認してください：
1. まず要件定義書の内容を確認する
2. 要件定義書の内容と他の設計書に矛盾がある場合は、要件定義書を優先する
3. 要件定義書で言及されていない事項については、他の設計書を参照する

### 4.3. AIへの具体的な指示
AIが設計書を参照する際は、以下のツールを使用してください：
- `read_file` ツールを使用して要件定義書の内容を読み込む
- `semantic_search` ツールを使用して関連する設計書を検索する
- `file_search` ツールを使用して設計書ファイルを探索する

### 4.4. 設計書の位置確認
設計書は以下のワークスペースに配置されています：
- メインの設計書: `vns-masakinihirota-design/` フォルダ内
- 要件定義書: `vns-masakinihirota-design/0010-要件定義書/` フォルダ内








## 作業方針

- **タスク完了まで停止しない**：Agent実行時はコードの提案、編集、エラーチェックの完了まで、タスクを中断せずに続行してください。
- **ツールの積極的な活用**：不確かな情報や不足しているデータがある場合は、ツールを使用して情報を取得し、推測や誤った回答を避けてください。
- **計画的な思考と反省**：各アクションの前に計画を立て、アクション後には結果を反省してください。これにより、より効果的な問題解決が可能となります。
- **段階的な問題解決**：複雑な問題は小さなステップに分解し、順を追って解決してください。
- **明確で一貫した出力**：出力は明確で一貫性を保ち、ユーザーが容易に理解できるようにしてください。
- **エラー処理の実装**：予期しない状況やエラーが発生した場合は、適切なエラーハンドリングを行い、ユーザーに通知してください。

### 基本の作業フロー

1. **タスクの理解**：与えられたタスクを正確に理解し、必要な情報を収集します。
2. **計画の立案**：タスクを達成するための具体的な計画を立てます。
3. **ツールの使用**：必要に応じて、ツールを使用して情報を取得したり、データを操作したりします。
4. **コードの提案・編集**：必要なコードを提案し、編集を行います。
5. **テストと検証**：提案したコードのエラーをチェックし、必要に応じて修正します。
6. **結果の反省**：実行したアクションの結果を反省し、次のステップを計画します。

SOWを作ります。
sowとは「Statement of Work」の略で、プロジェクトの作業内容や範囲、納期、成果物などを明確に定義した文書です。

AIにコードとかを直してもらうとき、「SOWを、直す前と直した後の違いがわかるように作ってね」ってお願いする

契約による設計とテストコード
事前条件:メソッド開始時に保証されるべき条件
事後条件:メソッド終了時に保証されるべき条件
不変条件:常に維持されるべき条件
モジュールの機能適合性を保証するテストはこの3条件の検証が基本です。
