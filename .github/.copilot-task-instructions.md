---
applyTo: "**"
---

このファイルを参照したら、このファイル名を発言してください。

# **このファイルの役割**

このファイルは、GitHub Copilotがタスクを管理するための指示を提供します。
タスク管理は、プロジェクトの進捗を追跡し、各機能や要件の実装状況を把握するために重要です。

---

## **重要事項**

- タスク実装後、必ずタスクリストを確認・更新してください。これを繰り返し行うことで、進捗を正確に把握できます。
- タスクの進捗状況を定期的に確認し、優先順位や依存関係を見直します。

---

## **タスクリスト**

### **タスクリストの作成**

設計書をもとにタスクを分解し、タスクリストを作成します。
1タスクは、一人の開発者が半日から1日で実装できる程度の大きさを目安にします。

#### **タスク分解のポイント**
- タスクの依存関係を考慮する。
- タスクの目的を明確に設定する。
- タスクの進捗を定期的に確認する。
- タスクの優先順位を設定する。
- タスクの完了基準を明確にする。
- **階層構造**を使って大機能→小機能→具体的実装の順で分解する。
- **要件参照**を必ず含めて、どの要件を満たすタスクかを明確にする。

---

### **タスクリストの構造**

タスクリストは以下の形式で作成してください：

```markdown
# 実装計画

- [ ] 1. 大機能名
  - 大機能の概要説明
  - 含まれる小機能の一覧
  - _要件: 該当する要件番号_

- [ ] 1.1 小機能名
  - 具体的な実装内容
  - 作成するファイルやコンポーネント
  - 実装のポイント
  - _要件: 該当する要件番号_

- [ ] 1.2 小機能名（続き）
  - 具体的な実装内容
  - 依存関係や前提条件
  - _要件: 該当する要件番号_

- [ ] 2. 次の大機能名
  ...
```

#### **タスク記述の詳細ルール**

1. **番号付け**: 1, 1.1, 1.2, 2, 2.1のような階層番号を使用
2. **要件参照**: 各タスクの最後に`_要件: 要件1.1、要件2.3_`形式で要件を明記
3. **実装範囲**: 作成するファイル名やクラス名を具体的に記載
4. **依存関係**: 前提となるタスクや制約事項を明記
5. **テスト**: 実装タスクとテストタスクを分けて記載

---

### **タスクリストの場所**

タスクリストは以下のファイルで管理します：
- **メインタスクリスト:** `vns-masakinihirota-design-task-list/tasks.md`
- **個別タスク詳細:** `_tasks/doing/[タスク名]/tasks.md`

---

### **タスクリストの更新タイミング**

タスクリストは以下のタイミングで更新します：
1. タスクが完了したとき。
2. 新しいタスクが追加されたとき。
3. 既存のタスクの進捗状況が変更されたとき。
4. タスクの優先順位や依存関係が変更されたとき。
5. **実装中に細分化が必要になったとき**。
6. **要件変更や設計変更があったとき**。

---

## **タスク管理の流れ**

1. **タスクの追加**
   - 新しい要件や問題が発見された場合にタスクを追加します。
   - 依存関係や優先順位を考慮してタスクリストに記載します。
   - **階層構造**を保ちながら適切な位置に追加します。

2. **タスクの進行**
   - タスクを進行中に変更した場合、`tasks.md`に反映します。
   - 進行中のタスクは `[~]` で表記します。
   - **サブタスクがある場合は、親タスクも`[~]`にします**。

3. **タスクの完了**
   - 実装、テスト、レビューが完了したら、タスクを `[x]` に更新します。
   - **すべてのサブタスクが完了したら、親タスクも`[x]`にします**。

4. **問題発生時**
   - 問題やブロッカーが発生した場合は `[!]` で表記します。
   - 問題の詳細を別途`blocked/`フォルダに記録します。

5. **ドキュメントを書く**
  - タスク完了後、ドキュメントを書きます。

ドキュメントの指示書
`.copilot-document-instructions.md`

`document.md`に反映します。
このドキュメントには、実装した機能の概要や設計、使い方などを詳しく書きます。

	使っている技術スタック
	機能の概要
	背景・目的
	コンポーネント設計
	できること・制限事項
	コンポーネント使用時のオプション
	関連ファイル・ディレクトリ構造

AIは実装したコードを忘れるので、記録を残しておきます。


---

## **タスクのステータス管理**

タスクの進捗状況は以下の形式で管理します：

```markdown
* [ ] 未着手
* [~] 進行中
* [x] 完了
* [!] 問題あり・ブロック中
```

### **ステータス管理の詳細ルール**

1. **親タスクのステータス**:
   - すべてのサブタスクが未着手 → `[ ]`
   - 一部のサブタスクが進行中または完了 → `[~]`
   - すべてのサブタスクが完了 → `[x]`

2. **進行中タスクの管理**:
   - 実装開始時に`[~]`に変更
   - コミット時にタスクリストの更新を確認
   - 1日1回は進捗状況を見直す

3. **完了タスクの確認**:
   - 実装完了
   - ユニットテスト完了
   - レビュー完了
   - 上記すべてが完了したら`[x]`に変更

4. **問題発生時の対応**:
   - `[!]`に変更し、問題の詳細を記録
   - `blocked/`フォルダに詳細な問題レポートを作成
   - 解決後は適切なステータスに戻す

---

## **タスクリスト作成の実例**

以下は適切なタスクリストの例です：

```markdown
- [ ] 1. データベース層の実装
- [ ] 1.1 Drizzleクエリ関数の作成
  - ルートアカウントのCRUD操作関数を実装
  - 認証ユーザーからルートアカウント作成のクエリ関数
  - ユニットテストの作成
  - _要件: 要件1.1、要件1.2、要件1.3_

- [ ] 1.2 データベース接続とエラーハンドリング
  - データベース接続ユーティリティの実装
  - エラーハンドリングクラスの作成
  - 接続失敗時のフォールバック処理
  - _要件: 要件4.3、要件4.4_
```

この形式を参考に、詳細で追跡可能なタスクリストを作成してください。






