このファイルを参照したら、このファイル名を発言してください。

# 重要事項

*  プロンプトファイルでの実装後、必ず機能の実装後にタスクリストの確認と更新をしてください、これを完成するまで必ず繰り返します。

---

# ファイルの場所

## 設計書

`vns-masakinihirota-design/`

## タスクリストファイルの場所

`vns-masakinihirota-custom-instructions/_task-list.md`

## 実装前プロンプトファイルの場所

`.github/prompts/`

## 完成後プロンプトファイルの場所

`.github/prompts/completes/`



---

# タスクリスト

タスクリストは、設計書の内容を元に1ページや1機能ごとにタスクに分解し、実装やテストの進捗を管理します。

# 設計書に基づくタスク管理とGitHub Copilot連携

本ドキュメントでは、設計書の内容を効率的にタスクへ分解し、人間とGitHub Copilotが連携して開発を進めるためのワークフローについて説明します。タスクは `_task-list.md` で一元管理され、各タスクに対応する詳細な実装指示はプロンプトファイルとして作成されます。


## タスクリストテンプレートの利用

新しいプロジェクトを開始する際には、以下のテンプレートを参考にしてタスクリストを作成してください。

* タスクリストテンプレート
`_task-list-template.md`

*タスクリストのファイル名
`_task-list.md`

## タスクリストの作成と管理

* **設計書の分割とタスク化**: 設計書を機能単位やページ単位で分割し、それぞれを1つのタスクとして定義します。
* **タスクリストへの登録**: 分割されたタスクは全て `_task-list.md` に登録します。このファイルはプロジェクトの進捗管理にも利用されます。
* **タスクからのプロンプトファイル作成**: タスクリストに登録された各タスクから、GitHub Copilotが実装を行うためのプロンプトファイルを作成します。

## タスク管理の方法

`_task-list.md` を用いて以下のルールでタスクを管理します。

### タスクの形式

各タスクは以下のMarkdown形式で記述します。

```markdown
* [ ] タスクの説明 (例: ログイン機能の実装)
    * 詳細な手順や注意点 (例: フォームのバリデーションを追加)
    * 依存関係 (例: デザインモックアップの完成)

```

### タスクのステータス

各タスクの進捗状況を以下の記号で管理します。

* `[ ]`: 未着手
* `[x]`: 完了
* `[~]`: 進行中
* `[! ]`: 問題あり

### タスクの優先順位

各タスクの優先度を以下の記号とキーワードで管理します。GitHub Copilotはキーワードの変更を検出し、自動的に対応する記号を付与します。

* `P1 🔴`: 最優先 (例: 重大なバグ修正、セキュリティ対応)
* `P2 🟠`: 高優先度 (例: 主要機能の実装、重要なUI修正)
* `P3 🟡`: 標準優先度 (例: 次のスプリントで対応予定の機能)
* `P4 🟢`: 低優先度 (例: 軽微なUI改善、ドキュメント更新)
* `P5 🔵`: 将来対応 (例: あったら良い機能、大規模リファクタリング)

**注**: 優先度は「P数字」の形式で指定します。GitHub Copilotは数字の変更を検出したら自動的に対応する記号に更新します。例えば「P1」を記述すると「P1 🔴」と表示されます。

## タスクの更新ルール

### タスクの追加

以下の状況で新しいタスクを追加します。

* 新しい要件や問題が発見された場合 (例: APIの仕様変更に伴う修正)
* 依存関係が明確になった場合 (例: 他のタスクが完了した後に着手可能)
* リファクタリングが必要な場合 (例: コードの可読性向上)

### タスクの更新

以下の情報を更新します。

* 進捗状況の変更 (例: `[~]` 進行中 → `[x]` 完了)
* 詳細な手順や注意点の追記
* 依存関係の変更 (例: 新たな依存タスクの追加)

### タスクの完了

以下の完了をもってタスクを完了とします。

* 実装の完了
* テストの完了
* レビューの完了

## 定期的なタスク更新プロセス

定期的にタスクの進捗状況を確認し、以下の対応を行います。

* **進捗状況の確認**: 各タスクのステータスを確認し、遅延がないか評価します。
* **ブロッカーの特定**: 開発を妨げる問題や依存関係を特定し、解決策を検討します。
* **優先順位の見直し**: プロジェクトの状況変化に応じて、タスクの優先順位を再評価します。
* **次のアクションの決定**: 各タスクの次のステップを明確にし、担当者を割り振ります。

定期的な更新により、プロジェクトの透明性を高め、早期に問題を発見し対応することが重要です。

## 開発進行具合の管理

開発の全体的な進捗状況は、タスクリスト内で以下のように管理します。

* **進捗サマリー**: タスクリストの冒頭に、全タスク数、完了数、進行中のタスク数、未着手のタスク数を集計し、完了率と合わせて記載します。
    例: 全タスク数: 20, 完了: 5 (25%), 進行中: 3 (15%), 未着手: 12 (60%)
* **マイルストーン管理**: 重要なマイルストーンと目標日、達成状況を記録します。
    形式: `[状態] マイルストーン名 (目標日:YYYY/MM/DD)`
    例: `[進行中] MVP実装 (目標日: 2025/06/30)`
* **依存関係の表現**: タスク間の依存関係を明確に記述します。
    * 依存元: タスクID1, タスクID2 (このタスクを開始するために完了が必要なタスク)
    * ブロック中: タスクID3, タスクID4 (このタスクが完了するまで開始できないタスク)
* **最終更新日**: タスクリストを更新した日付をファイルの先頭に記録します。
    例: `最終更新: 2025/04/16`



---

# プロンプトファイル

## タスクからプロンプトファイルへの変換

各タスクに対して、GitHub Copilotが実装を行うための詳細な指示を記述したプロンプトファイルを作成します。

プロンプトファイルには以下の情報を含めます。

* **タスクの概要**: タスクの目的と達成目標を明確に記述します。
* **実装の詳細**: 具体的な実装手順、必要なライブラリやコンポーネントを箇条書きで示します。
* **入出力の仕様**: 必要なデータ構造、型定義、API仕様などを記述します。
* **制約条件**: パフォーマンス要件、セキュリティ要件、互換性に関する制約などを記述します。
* **テスト方針**: 実装後の検証方法や具体的なテストケースを記述します。



## プロンプトファイルの作成

### プロンプトファイルテンプレートの利用

プロンプトファイルを新しく作る時、提供されたテンプレートのフォーマットに従って作成してください。

* プロンプトファイルのテンプレートは、`.github/20240401-000-template.prompt.md` このファイルを参照してください。


#### プロンプトファイルのテンプレートの解説

このテンプレートは、タスクの実行に必要な全ての情報を含み、GitHub Copilotが実装に必要な情報を一箇所で把握できるように設計されています。実際の使用時には、各セクションのプレースホルダー（`[]` で囲まれた部分）を具体的な情報で置き換えます。

このテンプレートを活用することで、タスクの目的、要件、実装上の注意点などが明確になり、効率的なWebアプリケーション開発が可能になります。



## プロンプトファイルの規則

* **役割**: 各プロンプトファイルは、個別のタスクに関する詳細な実装指示を記述します。
GitHub Copilotはこのファイルに基づいてコード生成などの作業を行います。

* **ファイル名**: 以下の命名規則に従います。
    * **フォルダ**: `.github/prompts/`
    * **フォーマット**: `[YYYYMMDD]-[タスクID]-[タスク名]-[タスクの種類].prompt.md`
        * `[YYYYMMDD]`: 作成日 (例: `20250416`)
        * `[タスクID]`: `_task-list.md` で割り当てられた一意のID (例: `001`)
        * `[タスク名]`: タスクの内容がわかる簡潔な名前 (例: `loginFeature`)
        * `[タスクの種類]`: 以下のいずれかのキーワードを使用します。
            * `feat`: 機能開発
            * `fix`: バグ修正
            * `test`: テスト関連
            * `doc`: ドキュメント関連
            * `refactor`: リファクタリング
            * `style`: スタイル調整
    * **例**: `20250416-001-loginFeature-feat.prompt.md`
* **役割**: 1タスクにつき1つの詳細な実装指示を記述します。

## タスクとステップ

1つのタスクが複雑な場合は、複数のステップに分割されることがあります。
その場合は、必ずステップ単位で実装を行います。



## プロンプトファイルを用いたコード生成前の準備

1.  タスクリストから一つのタスクを選択します。
2.  選択したタスクに対応するプロンプトファイルを用意します。
3.  GitHub Copilotが理解しやすいように、プロンプトファイルの内容を適切なステップに分割します。
4.  GitHub Copilotを質問モードに切り替え、どのルールに基づいて何を生成するかを確認します。
5.  確認後、エージェントモードに切り替えてGitHub Copilotにコード生成を依頼します。

## 用いたプロンプトファイルが失敗した場合の対処

開発者の意図通りにコードが生成されなかった場合は、以下の手順で対処します。

1.  開発者はプロンプトファイルの内容を見直します。必要に応じて、設計書やタスクリストも再検討します。
2.  なぜ期待通りに実装できなかったのか、その原因を分析します。
3.  GitHub Copilotに指示書を再度読み込ませ、生成が失敗した理由を確認します。
4.  コードを直接修正するのではなく、可能であればタスクをさらに細かく分割します。
5.  分割したタスクに対して、より正確で詳細なプロンプトファイルを作成し、再度GitHub Copilotに処理を依頼します。


